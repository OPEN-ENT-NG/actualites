<!DOCTYPE html>
<html>
<head>
	<title>{{#i18n}}actualites.title{{/i18n}}</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script src="{{#infra}}js/loader.js{{/infra}}" type="text/javascript" id="context"></script>
	<script src="/actualites/public/js/model.js" type="text/javascript"></script>
	<script src="/actualites/public/js/controller.js" type="text/javascript"></script>
	<script type="text/ng-actualites" id="empty"></script>
	<link rel="stylesheet" type="text/css" href="/actualites/public/css/actualites.css" />
</head>
<body ng-controller="ActualitesController">
<portal>

	<!-- Threads panel -->
	<div class="cell four">
		<h1>Actualit√©s</h1>
		<nav class="vertical stamps">
			<div ng-include="template.containers.threadsList"></div>
		</nav>
	</div>

	<!-- Infos panel -->
	<div class="cell eight">

		<!-- Thread actions -->
		<nav class="contextual-buttons" ng-if="hasCurrentThread()">
			<div class="row action-buttons">
				<behaviour name="contrib" resource="currentThread" class="cell">
					<button ng-click="createInfo()" translate content="actualites.edition.infos.create"></button>
					<select ng-model="threadFilter" ng-options="tFilter.value as tFilter.label for tFilter in threadFilters" ng-change="refreshThread()">
					</select>
				</behaviour>
				<behaviour name="share" resource="currentThread" class="cell">
					<button ng-click="shareThread()" translate content="actualites.edition.thread.share"></button>
				</behaviour>
			</div>
		</nav>

		<!-- Thread infos -->
		<div id="actualites.container.threads" ng-include="template.containers.thread">
		</div>
	</div>

	<!-- Lightbox : Thread share -->
	<div ng-if="hasCurrentThread()">
		<behaviour name="share" resource="currentThread">
			<lightbox show="display.showPanel" on-close="cancelShareThread(); display.showPanel = false;">
				<share-panel app-prefix="'actualites'" resources="currentThread"></share-panel>
			</lightbox>
		</behaviour>
	</div>

</portal>
</body>
</html>